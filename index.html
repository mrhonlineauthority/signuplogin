<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login & Signup</title>

<style>
*,
*::before,
*::after{
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: #f1f1f1;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.box {
    width: 90%;
    max-width: 380px;
    background: #ffffff;
    padding: 17px 13px;
    border-radius: 14px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.12);
    text-align: center;
}

h2 {
    margin-bottom: 15px;
    font-size: 28px;
}

/* LOGO */
.logo-box{
    display:flex;
    justify-content:center;
    margin:0.10px 0 3px;
}
.logo-box img{
    width:80px;
    height:auto;
}

/* INPUT */
.input-group{
    position:relative;
    width:100%;
}

input{
    width:100%;
    height:50px;
    padding:0 45px 0 14px;
    margin:10px 0;
    border:2px solid #d4d4d4;
    border-radius:8px;
    font-size:16px;
}

input:focus{
    border-color:#007bff;
    outline:none;
}

.eye-icon{
    position:absolute;
    right:14px;
    top:50%;
    transform:translateY(-50%);
    cursor:pointer;
}

/* BUTTON */
button{
    width:100%;
    height:45px;
    background:#007bff;
    border:none;
    color:white;
    border-radius:8px;
    font-size:17px;
    font-weight:bold;
    cursor:pointer;
    margin-top:6px;
    position:relative;
}

/* LOADER */
.loader{
    width:22px;
    height:22px;
    border:3px solid rgba(255,255,255,.4);
    border-top:3px solid white;
    border-radius:50%;
    animation:spin 1s linear infinite;
    margin:auto;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}

.google-btn{
    background:#fff;
    border:2px solid #ddd;
    color:#333;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:10px;
    margin-top:14px;
}

.google-btn img{
    width:22px;
}

.toggle-btn,
.forgot-btn{
    background:none;
    border:none;
    color:#007bff;
    cursor:pointer;
    font-size:13px;
    margin-top:0.10px;
}

.password-rules{
    text-align:left;
    font-size:13px;
    margin-bottom:8px;
}

/* ‚úÖ SUCCESS PAGE */
.success-box{
    width:90%;
    max-width:380px;
    background:#fff;
    padding:30px 20px;
    border-radius:14px;
    text-align:center;
    box-shadow:0 6px 15px rgba(0,0,0,.12);
    display:none;
}
.success-logo{
    width:90px;
    height:90px;
    border-radius:50%;
    overflow:hidden;
    margin:0 auto 15px;
}
.success-logo img{
    width:100%;
    height:100%;
    object-fit:contain;
}
.success-text{
    font-size:16px;
    color:green;
    line-height:1.5;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="box" id="loginBox">
<h2>Login</h2>

<div class="logo-box">
<img src="https://mrhonlineauthority.github.io/ebent/mrhlogo.png">
</div>

<div class="input-group">
<input type="email" id="loginEmail" placeholder="Email">
</div>

<div class="input-group">
<input type="password" id="loginPassword" placeholder="Password">
<span class="eye-icon" onclick="togglePassword('loginPassword',this)">üëÅ</span>
</div>

<button class="forgot-btn" onclick="showForgotPassword()">Forgot Password?</button>

<button id="loginBtn" onclick="emailLogin()">Login</button>

<button class="google-btn" onclick="googleLogin()">
<img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
Login with Google
</button>

<button class="toggle-btn" onclick="showSignup()">Don't have account? Sign Up</button>
</div>

<!-- SIGNUP -->
<div class="box" id="signupBox" style="display:none;">
<h2>Sign Up</h2>

<div class="logo-box">
<img src="https://mrhonlineauthority.github.io/ebent/mrhlogo.png">
</div>

<div class="input-group">
<input type="email" id="signupEmail" placeholder="Email">
</div>

<div class="input-group">
<input type="password" id="signupPassword" placeholder="Password">
<span class="eye-icon" onclick="togglePassword('signupPassword',this)">üëÅ</span>
</div>

<div class="password-rules">
‚úî Minimum 8 characters<br>
‚úî At least 1 uppercase letter (A‚ÄìZ)<br>
‚úî At least 1 lowercase letter (a‚Äìz)<br>
‚úî At least 1 number (0‚Äì9)<br>
‚úî At least 1 special character (!@#$%^&*)
</div>

<button id="signupBtn" onclick="emailSignup()">Sign Up</button>

<button class="google-btn" onclick="googleLogin()">
<img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
Sign Up with Google
</button>

<button class="toggle-btn" onclick="showLogin()">Already have account? Login</button>
</div>

<!-- FORGOT -->
<div class="box" id="forgotBox" style="display:none;">
<h2>Reset Password</h2>

<div class="input-group">
<input type="email" id="resetEmail" placeholder="Email">
</div>

<button onclick="resetPassword()">Send Reset Link</button>
<button class="toggle-btn" onclick="showLogin()">Back</button>
</div>

<!-- ‚úÖ SUCCESS PAGE -->
<div class="success-box" id="successBox">
  <div class="success-logo">
    <img src="https://mrhonlineauthority.github.io/ebent/mrhlogo.png">
  </div>
  <div class="success-text">
    Your signup/login was successful.<br>
    Thank you!
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

const firebaseConfig = {
 apiKey:"AIzaSyAkdYFZXCnb32f83BcsvSslbU6tny5HGrs",
 authDomain:"fir-45ded.firebaseapp.com",
 projectId:"fir-45ded"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const provider=new GoogleAuthProvider();

window.showSignup=()=>{loginBox.style.display="none";signupBox.style.display="block";forgotBox.style.display="none";}
window.showLogin=()=>{signupBox.style.display="none";loginBox.style.display="block";forgotBox.style.display="none";}
window.showForgotPassword=()=>{loginBox.style.display="none";signupBox.style.display="none";forgotBox.style.display="block";}

function showSuccess(){
 loginBox.style.display="none";
 signupBox.style.display="none";
 forgotBox.style.display="none";
 successBox.style.display="block";
}

function setLoader(btn){
 btn.innerHTML='<div class="loader"></div>';
 btn.disabled=true;
}
function resetBtn(btn,text){
 btn.innerHTML=text;
 btn.disabled=false;
}

function isStrongPassword(p){
 return /.{8,}/.test(p)&&/[A-Z]/.test(p)&&/[a-z]/.test(p)&&/[0-9]/.test(p)&&/[!@#$%^&*]/.test(p);
}

window.emailSignup=()=>{
 const btn=document.getElementById("signupBtn");
 const pass=signupPassword.value;
 if(!isStrongPassword(pass)){
   alert("Password not strong!");
   return;
 }
 setLoader(btn);
 createUserWithEmailAndPassword(auth,signupEmail.value,pass)
 .then(()=>showSuccess())
 .catch(e=>alert(e.message))
 .finally(()=>resetBtn(btn,"Sign Up"));
}

window.emailLogin=()=>{
 const btn=document.getElementById("loginBtn");
 setLoader(btn);
 signInWithEmailAndPassword(auth,loginEmail.value,loginPassword.value)
 .then(()=>showSuccess())
 .catch(e=>alert(e.message))
 .finally(()=>resetBtn(btn,"Login"));
}

window.googleLogin=()=>{
 signInWithPopup(auth,provider)
 .then(()=>showSuccess())
 .catch(e=>alert(e.message));
}

window.resetPassword=()=>{
 sendPasswordResetEmail(auth,resetEmail.value)
 .then(()=>alert("Reset link sent"))
 .catch(e=>alert(e.message));
}

window.togglePassword=(id,icon)=>{
 const i=document.getElementById(id);
 i.type=i.type==="password"?"text":"password";
 icon.textContent=i.type==="password"?"üëÅ":"üôà";
}
</script>

</body>
</html>
